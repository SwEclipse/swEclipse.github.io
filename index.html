<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <title>ì‚¬ì „ì§„ë‹¨</title>
    <style>
        /* ì „ì²´ ìŠ¤íƒ€ì¼ */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            text-align: center;
            margin: 20px;
            transition: background-color 0.3s, color 0.3s;
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #3498db;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
            margin-bottom: 20px;
        }

        header h1 {
            color: #fff;
            margin: 0;
            font-size: 2em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* ê³µì§€ ì‚¬í•­ ìŠ¤íƒ€ì¼ */
        .notice {
            color: #fff;
            background-color: #3498db;
            padding: 10px;
            border-radius: 8px;
            margin-top: 20px;
            max-width: 80%;
            margin-left: auto;
            margin-right: auto;
        }

        /* ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        #quiz-container, #result-container, #summary-container {
            max-width: 80%;
            margin: auto;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
            margin-top: 20px;
            background-color: #ecf0f1;
        }

        #quiz-container {
            background-color: #3498db;
        }

        /* í—¤ë”© ìŠ¤íƒ€ì¼ */
        h2, h3 {
            color: #333;
            margin-bottom: 20px;
        }

        /* ì§ˆë¬¸ ìŠ¤íƒ€ì¼ */
        .question {
            margin-bottom: 20px;
            font-size: 18px;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            color: #333;
            position: relative;
            overflow: hidden;
            background-color: #ecf0f1; /* ì—°í•œ íšŒìƒ‰ìœ¼ë¡œ ìˆ˜ì • */
        }

        /* ì§ˆë¬¸ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 20px; /* ë²„íŠ¼ê³¼ ë¬¸ì œ ì‚¬ì´ì˜ ê°„ê²© ì¡°ì • */
        }


        /* í´ë¦­í•œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .question button.selected {
            background-color: #e74c3c; 
        }

        /* ì •ë‹µ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #quiz-container .answer-button {
            color: #fff;
            font-size: 16px;
            margin: 5px;
            padding: 15px 30px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            transition: background-color 0.3s, transform 0.1s;
        }

        /* O ë²„íŠ¼ì˜ ê¸°ë³¸ ë°°ê²½ìƒ‰ */
        #quiz-container .answer-button.o-button {
            background-color: #3498db;
        }

        /* X ë²„íŠ¼ì˜ ê¸°ë³¸ ë°°ê²½ìƒ‰ */
        #quiz-container .answer-button.x-button {
            background-color: #e74c3c;
        }

        .question .answer-button.selected {
        background-color: #95a5a6; /* í´ë¦­í•œ ë²„íŠ¼ì˜ ë°°ê²½ìƒ‰ì„ íšŒìƒ‰ìœ¼ë¡œ ë³€ê²½ */
        }

        /* ê° ë²„íŠ¼ ê°„ ì—¬ë°± ì¡°ì •ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ */
        .question button + button {
            margin-left: 10px;
        }

        .question button:hover {
            background-color: #3498db;
        }

        /* ë‹¤í¬ ëª¨ë“œ í† ê¸€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #dark-mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #7f8c8d;
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            transition: background-color 0.3s, color 0.3s;
        }

        #dark-mode-toggle:hover {
            background-color: #95a5a6;
        }

        #dark-mode-toggle.dark-mode {
            background-color: #fff;
            color: #333;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        .answer-button {
            font-size: 16px;
            margin: 5px;
            padding: 15px 30px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            transition: background-color 0.3s, transform 0.1s;
            color: #fff;
        }

        

        .answer-button:hover {
            background-color: #3498db;
        }

        .answer-button:active {
            transform: scale(0.95);
        }

        /* ì œì¶œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        #quiz-container button.answer-button {
            background-color: #e67e22;
        }

        #quiz-container button.answer-button:hover {
            background-color: #d35400;
        }

        #quiz-container button.answer-button.submit-button:active {
            transform: scale(0.95);
        }

        

        /* ê²°ê³¼ í™”ë©´ì˜ í•´ì„¤ ë³´ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        #result-container button.answer-button {
            background-color: #27ae60;
        }

        #result-container button.answer-button:hover {
            background-color: #2ecc71;
        }

        #result-container button.answer-button:active {
            transform: scale(0.95);
        }

        

        #result-list .result-info .correct-answer {
            color: #27ae60;
        }

        #result-list .result-info .wrong-answer {
            color: #e74c3c;
        }

        #result-list .result-info .wrong-answer-text {
            color: #e74c3c;
            font-weight: bold;
        }
        


        /* í€´ì¦ˆ ê²°ê³¼ ì˜ì—­ ìˆ¨ê¹€ */
        #result-container, #summary-container {
            display: none;
            margin-top: 40px; /* ê°„ê²© ì¡°ì • */
        }

        /* í€´ì¦ˆ ê²½ê³  ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        #quiz-warning {
            color: red;
            display: none;
        }

        .disabled {
            pointer-events: none;
            opacity: 0.5;
        }

        .answer-explanation-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .popup-content {
            background: #3498db;
            padding: 30px;
            border-radius: 8px;
            max-width: 80%;
            text-align: left;
            position: relative;
            color: #333;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
        }

        .popup-explanation {
            font-size: 18px;
            line-height: 1.6;
            margin-top: 20px;
            padding: 15px;
            background-color: #ecf0f1;
            border-radius: 8px;
        }

        .close-button {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 18px;
            cursor: pointer;
            color: #555;
        }

        /* ì§„ë‹¨ ê²°ê³¼ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        #result-list, #summary-list {
            list-style: none;
            padding: 0;
        }

        .result-info, #summary-list li {
            margin-bottom: 15px;
            font-size: 16px;
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            color: #333;
        }

        .result-info:hover {
            background-color: #3498db;
            color: #fff;
        }
    </style>
</head>
<body>
    <header>
        <h1>ì‚¬ì „ì§„ë‹¨</h1>
        <div class="notice">
            <p>í•™ìŠµì„ ì‹œì‘í•˜ê¸°ì— ì•ì„œ ê¸°ë³¸ì ì¸ ë‚´ìš©ì„ ì–¼ë§ˆë‚˜ ì•Œê³  ìˆëŠ”ì§€ ì‚¬ì „ì§„ë‹¨ì„ í†µí•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.<br>
            ì§„ë‹¨ ê²°ê³¼ì— ë”°ë¼ í•™ìŠµìš”ì•½ì´ë‚˜ ì‹¬í™”í•™ìŠµ ì¤‘ ë§ì¶¤í˜•ìœ¼ë¡œ ìë™ êµ¬ì„±ë©ë‹ˆë‹¤.<br>
            <strong style="color: red;">ë¬¸ì œë¥¼ ì½ê³  ì •ë‹µì„ ì„ íƒí•œ ë‹¤ìŒ, í•˜ë‹¨ì— ìˆëŠ” ë‹µì•ˆ ì œì¶œ ë²„íŠ¼ì„ í´ë¦­í•´ì£¼ì„¸ìš”.</strong>
            </p>
        </div>
    </header>

    <div id="quiz-container">
        <h2>í€´ì¦ˆ</h2>
        <div id="questions-container"></div>
        <button class="answer-button" onclick="submitAnswers()">ì œì¶œ</button>
        <p id="quiz-warning" style="color: red; display: none;">ëª¨ë“  ë¬¸ì œë¥¼ í’€ì–´ì£¼ì„¸ìš”.</p>
    </div>

    <div id="result-container">
        <h2 id="result-message"></h2>
        <div id="result-list"></div>
        <!-- <button class="answer-button" onclick="showSummary()">í€´ì¦ˆ ê²°ê³¼</button> -->
    </div>

    <div id="summary-container">
        <h2>í€´ì¦ˆ ê²°ê³¼</h2>
        <ul id="summary-list"></ul>
        <button class="answer-button" onclick="resetQuiz()">ë‹¤ì‹œ ì‹œì‘</button>
    </div>

    <div class="answer-explanation-popup" id="answerExplanationPopup" onclick="closePopup()">
        <div class="popup-content" onclick="event.stopPropagation()">
            <span class="close-button" onclick="closePopup()">X</span>
            <h3 id="popup-question"></h3>
            <p id="popup-result"></p>
            <div id="popup-explanation" class="popup-explanation"></div>
        </div>
    </div>

    <button id="dark-mode-toggle" onclick="toggleDarkMode()">ğŸŒ™</button>

    <script>
        const questions = [
            { question: "íš¨ê³¼ì ì¸ ì½”ì¹­ì€ ê°œì¸ì´ë‚˜ ê·¸ë£¹ì˜ ì„±ê³¼ì™€ ì„±ì¥ì„ ë„ëª¨í•˜ê¸° ìœ„í•´ 'ì ì ˆí•œ ê¸°ìˆ ê³¼ ì ‘ê·¼ë²•'ì„ í™œìš©í•˜ì—¬ ì§€ì›í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë§í•œë‹¤.", answer: "O", explanation: "íš¨ê³¼ì ì¸ ì½”ì¹­â€™ì„ ì‹¤í˜„í•˜ê¸° ìœ„í•œ ëª‡ ê°€ì§€ í•µì‹¬ì›ì¹™ê³¼ ì „ëµë“¤ì´ ìˆì§€ë§Œ íš¨ê³¼ì ì¸ ì½”ì¹­ì€ ê°œì¸ì´ë‚˜ ê·¸ë£¹ì˜ ì„±ê³¼ì™€ ì„±ì¥ì„ ë„ëª¨í•˜ê¸° ìœ„í•´ â€˜ì ì ˆí•œ ê¸°ìˆ ê³¼ ì ‘ê·¼ë²•â€™ì„ í™œìš©í•˜ì—¬ ì§€ì›í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë§í•œë‹¤." },
            { question: "TO-BE ëª¨ë¸ì€ â€˜í˜„ì¬ ìƒíƒœì—ì„œ ê³¼ê±°ì˜ ì›í•˜ëŠ” ëª©í‘œâ€™ë¥¼ í–¥í•´ ë‚˜ì•„ê°€ëŠ” ê³¼ì •ì„ ë‚˜íƒ€ë‚´ëŠ” ê°œë…ì´ë‹¤", answer: "X", explanation: "í”„ë¡œì„¸ìŠ¤ ê°œì„ ì´ë‚˜ ì¡°ì§ êµ¬ì„±ì›ì˜ ë³€í™”ì™€ ê´€ë ¨í•˜ì—¬ TO-BE ëª¨ë¸ì€ ì´ìƒì ì¸ ìƒí™©ì„ ì„¤ê³„í•˜ê³  ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ë° ë„ì›€ì„ ì¤€ë‹¤. TO-BE ëª¨ë¸ì€ â€˜í˜„ì¬ ìƒíƒœì—ì„œ ë¯¸ë˜ì˜ ì›í•˜ëŠ” ëª©í‘œâ€™ë¥¼ í–¥í•´ ë‚˜ì•„ê°€ëŠ” ê³¼ì •ì„ ë‚˜íƒ€ë‚´ëŠ” ê°œë…ì´ë‹¤." },
            { question: "ë‚œì´ë„ì— ë”°ë¥¸ ì½”ì¹­ì€ ë¬¸ì œë‚˜ ëª©í‘œì˜ ë³µì¡ì„±ê³¼ ë‚œì´ë„ì— ë”°ë¼ ì ì ˆí•œ ì½”ì¹­ ì ‘ê·¼ì„ ì¡°ì •í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.", answer: "O", explanation: "ë‹¤ì–‘í•œ ë‚œì´ë„ì˜ ë¬¸ì œë‚˜ ëª©í‘œê°€ ìˆì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ì— ë”°ë¼ ì ì ˆí•œ ì „ëµì„ ì„ íƒí•˜ì—¬ ì§€ì›í•˜ëŠ” ì½”ì¹­ì´ í•„ìš”í•˜ë‹¤. ë‚œì´ë„ì— ë”°ë¥¸ ì½”ì¹­ì€ ë¬¸ì œë‚˜ ëª©í‘œì˜ ë³µì¡ì„±ê³¼ ë‚œì´ë„ì— ë”°ë¼ ì ì ˆí•œ ì½”ì¹­ ì ‘ê·¼ì„ ì¡°ì •í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤." }
        ];

        let userResponses = [];
        let darkModeEnabled = false;

        function loadQuestions() {
            const questionsContainer = document.getElementById("questions-container");

            questions.forEach((q, index) => {
                const questionElement = document.createElement("div");
                questionElement.classList.add("question");
                questionElement.textContent = `${index + 1}. ${q.question}`;
                
                const oButton = createAnswerButton(index, "O");
                const xButton = createAnswerButton(index, "X");

                questionElement.appendChild(oButton);
                questionElement.appendChild(xButton);
                questionsContainer.appendChild(questionElement);
            });
        }

        function createAnswerButton(questionIndex, answer) {
            const button = document.createElement("button");
            button.classList.add("answer-button");
            button.classList.add(answer.toLowerCase() + "-button");
            button.textContent = answer;
            button.onclick = function () {
                userResponses[questionIndex] = { questionIndex: questionIndex + 1, answer, explanation: questions[questionIndex].explanation };
                
                // ë²„íŠ¼ì— ì„ íƒ ìŠ¤íƒ€ì¼ ë° ì •ë‹µ ì—¬ë¶€ì— ë”°ë¥¸ í´ë˜ìŠ¤ ì¶”ê°€
                button.classList.add("selected");
                if (answer === questions[questionIndex].answer) {
                    button.classList.add("correct-answer");
                } else {
                    button.classList.add("wrong-answer");
                }
            };
            return button;
        }

        // jQueryë¡œ ë³€ê²½í•œ ì½”ë“œ
        $(document).ready(function () {
            // ì§ˆë¬¸ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            $('.question button').on('click', function () {
                // í˜„ì¬ ì§ˆë¬¸ì— í•´ë‹¹í•˜ëŠ” ë²„íŠ¼ë“¤ ì¤‘ì—ì„œ ìŠ¤íƒ€ì¼ ì œê±°
                $(this).siblings('button').removeClass('selected').css('background-color', '');

                // ì„ íƒí•œ ë²„íŠ¼ì— ìŠ¤íƒ€ì¼ ì¶”ê°€
                $(this).addClass('selected');
                $(this).css('background-color', '#95a5a6');
            });

            // ì •ë‹µ ë° ì˜¤ë‹µ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            $('#quiz-container .answer-button').on('click', function () {
                // í˜„ì¬ ë²„íŠ¼ì´ ì†í•œ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ìŠ¤íƒ€ì¼ ì œê±°
                $(this).siblings('.answer-button').removeClass('selected').css('background-color', '');

                // ì„ íƒí•œ ë²„íŠ¼ì— ìŠ¤íƒ€ì¼ ì¶”ê°€
                $(this).addClass('selected');
                $(this).css('background-color', '#e67e22');
            });

        });

        function submitAnswers() {
            const quizContainer = $('#quiz-container');
            const resultContainer = $('#result-container');
            const resultList = $('#result-list');
            const quizWarning = $('#quiz-warning');

            // ëª¨ë“  ë¬¸ì œë¥¼ í’€ì—ˆëŠ”ì§€ í™•ì¸
            const answeredQuestions = userResponses.filter(response => response !== undefined);
            if (answeredQuestions.length !== questions.length) {
                alert('ëª¨ë“  ë¬¸ì œë¥¼ í’€ì–´ì£¼ì„¸ìš”.'); // ëª¨ë“  ë¬¸ì œë¥¼ í’€ì§€ ì•Šì•˜ì„ ë•Œ ì•ˆë‚´ ë©”ì‹œì§€ í‘œì‹œ
                return;
            }

            quizWarning.css('display', 'none');

            quizContainer.css('display', 'none');
            resultContainer.css('display', 'block');

            resultList.empty();  // ê¸°ì¡´ ê²°ê³¼ ëª©ë¡ ì´ˆê¸°í™”

            userResponses.forEach(response => {
                const questionIndex = response.questionIndex;
                const answerStatus = response.answer === questions[questionIndex - 1].answer ? 'correct-answer' : 'wrong-answer';
                const correctAnswer = questions[questionIndex - 1].answer;

                // ê²°ê³¼ ëª©ë¡ì— ê²°ê³¼ ì¶”ê°€
                resultList.append(
                    `<div class="result-info">
                        ë¬¸ì œ ${questionIndex}: 
                        <span class="${answerStatus}">
                            ${answerStatus === 'correct-answer' ? 'ì •ë‹µ' : 'ì˜¤ë‹µ'}
                            (ì„ íƒí•œ ë‹µ: ${response.answer})
                        </span> (ì •ë‹µ: 
                        <span class="${answerStatus === 'correct-answer' ? 'correct-answer' : 'wrong-answer'}">
                            ${correctAnswer}
                        </span>)
                        <button class="answer-button" onclick="showExplanation(${questionIndex - 1})">í•´ì„¤ ë³´ê¸°</button>
                    </div>`
                );
            });

            
        }

        

        function showSummary() {
            const summaryList = document.getElementById("summary-list");

            summaryList.innerHTML = userResponses.map(response =>
                `<li class="result-info">
                    ë¬¸ì œ ${response.questionIndex}: ${response.answer ? 'ì •ë‹µ' : 'í‹€ë¦¼'}
                    <button class="answer-button" onclick="showExplanation(${response.questionIndex - 1})">í•´ì„¤ ë³´ê¸°</button>
                </li>`
            ).join('');
        }

        function resetQuiz() {
            userResponses = [];
            const quizContainer = document.getElementById("quiz-container");
            const resultContainer = document.getElementById("result-container");
            const summaryContainer = document.getElementById("summary-container");

            quizContainer.style.display = "block";
            resultContainer.style.display = "none";
            summaryContainer.style.display = "none";

            loadQuestions();
        }

        function showExplanation(questionIndex) {
            const popup = document.getElementById("answerExplanationPopup");
            const popupQuestion = document.getElementById("popup-question");
            const popupResult = document.getElementById("popup-result");
            const popupExplanation = document.getElementById("popup-explanation");

            popupQuestion.textContent = questions[questionIndex].question;
            popupResult.textContent = `ì •ë‹µ: ${questions[questionIndex].answer}`;
            popupExplanation.innerHTML = `<p>${questions[questionIndex].explanation}</p>`;

            popup.style.display = "flex";
        }

        function closePopup() {
            const popup = document.getElementById("answerExplanationPopup");
            popup.style.display = "none";
        }

        function toggleDarkMode() {
            darkModeEnabled = !darkModeEnabled;
            const body = document.body;
            const toggleButton = document.getElementById("dark-mode-toggle");

            if (darkModeEnabled) {
                body.style.background = "#2c3e50";
                body.style.color = "#ecf0f1";
                toggleButton.classList.add("dark-mode");
            } else {
                body.style.background = "#f4f4f4";
                body.style.color = "#333";
                toggleButton.classList.remove("dark-mode");
            }
        }

        loadQuestions();
    </script>
</body>
</html>
